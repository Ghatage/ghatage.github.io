<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Make Pocketsphinx recognize new words &middot; Panopticon
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <!--<link rel="stylesheet" href="/public/css/lanyon.css">-->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico"> -->
  <link rel="shortcut icon" type="image/png" href="/img/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
		 styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"> 

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
	<div class="container sidebar-sticky">
	<div>
		<img class="avatar" width=220 height=220 src="/img/avatar.jpg" alt="avatar" />
	</div>
      <h3> <center>
        <a href="/">
          Anup Ghatage
        </a> </center>
      </h3>
	<div class="sidebar-item">
		<p>Code. Music. Illusions.<br> All kinds of new tech           ...and Butterscotch</p>
	</div>

	<nav class="sidebar-nav">
		<a class="sidebar-nav-item" href="/">Home</a>
		<a class="sidebar-nav-item" href="/blog">Blog</a>

		

		
		
		
		
		
		
		
		
		
		
		
		
		<a class="sidebar-nav-item" href="/about/">About</a>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</nav>

	<div class="sidebar-item">
		<p>
		&copy; 2016. All rights reserved.
		</p>
	</div>
	</div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
   <!--   <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Panopticon</a>
            <small></small>
          </h3>
        </div>
      </div> -->
      <div class="container content">
        <div class="post">
  <h1 class="post-title">Make Pocketsphinx recognize new words</h1>
  <span class="post-date">13 Dec 2012</span>
  <p>Now that we’ve got <a href="http://ghatage.com/2012/09/16/voice-to-text-pocketsphinx/">pocketsphinx installed and running</a>, we’d like for it to recognize the words we want it to.
By default, the vocabulary and the dictionary it has may not cut it. in fact, if you’ve tried pocketsphinx_continuous you’ll understand that it cannot recognize half of the words you say.</p>

<p>Is it because of your accent?
Is it because of your mic?
There are many factors, but right now we’ll take a look at the quickest way for pocketsphinx to actually, quickly, recognize what you’re saying.</p>

<p>Let’s take a brief moment to understand what we’re going to do.</p>

<p>The three main arguments we give to pocketsphinx_continuous which may determine the accuracy are as follows</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  -hmm : The Acoustic Model
  -lm : The Language Model
  -dict : The Dictionary
</code></pre></div>
<p>The Acoustic Model is created by taking audio of speech and the corresponding text transcription.
Then statistical representations of the sounds that make up each word are created from this data to make the Acoustic Model.
The default acoustic model we’ve seen in my last post, the one which comes with pocketsphinx is the most optimized and comprehensive.
Hence, we don’t need to <em>create</em> another acoustic model, we’ll just use the one we have.</p>

<p>The Language Model is actually a statistical language model which assigns probability to each word that it’s given using a probability distribution formula.</p>

<p>The Dictionary is the actual set of words which are given to the language model. The dictionary also represents how the words are pronounced.</p>

<p>So, since we’ll be using the default acoustic model, we can change the language model and the dictionary to add more, new words.</p>

<p>To do that, create a new file and add the words which you want to be specifically recognized, this will be the corpus:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sample.txt

Donut
Chair
Phone
Car
</code></pre></div>
<p>Save it, and go to the following link: http://www.speech.cs.cmu.edu/tools/lmtool.html
You can either use the tool in the given link, or, use the newer version mentioned there.
Here we’ll use the one given on the page.</p>

<p>Select the corpus file you’ve created, here we’ve made ‘sample.txt‘.</p>

<p>Build the corpus by clicking on the ‘COMPILE KNOWLEDGE BASE’ button.</p>

<p>You’ll see this screen after it’s done.</p>

<p>Right click on the ‘Dictionary’ and ‘Language Model’ links and save the files. We’ll be giving these as arguments to pocketsphinx_continuous.</p>

<p>Ok, now fire up your terminal, set the LD<em>LIBRARY</em>PATH if you haven’t added it to your .bashrc already and let’s get going!</p>

<p>As you will see here, it successfully recognizes the word ‘Car’ in the first attempt itself.</p>

<p>Also, it is able to recognize continuous speech when ‘Car, Donut, Phone’ are spoken out without pauses.</p>

<p>Now, you can use this method to build your own dictonary and make pocketsphinx recognize words that you want it to, with high accuracy.</p>

<p>Until then.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="//travel/2015/06/05/new-york-city/">
            New York City
            <small>05 Jun 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="//announcements/2015/03/28/its-alive/">
            It's Alive!
            <small>28 Mar 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="//tech/2012/09/16/voice-to-text-pocketsphinx/">
            Voice to text using CMU Pocketsphinx
            <small>16 Sep 2012</small>
          </a>
        </h3>
      </li>
    
  </ul>
		
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'ghatage'; // required: replace example with your forum shortname
var disqus_identifier = "/tech/2012/12/13/Make-Pocketsphinx-recognize-new-words/";

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>


</html>
